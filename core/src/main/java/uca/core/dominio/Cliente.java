package uca.core.dominio;


import jakarta.persistence.Entity;
import jakarta.persistence.Id;
import jakarta.persistence.Table;
import jakarta.persistence.Transient;


import lombok.Getter;
import lombok.Setter;

import java.time.LocalDate;
import java.util.Objects;

//Importaciones de JPA



@Getter
@Setter
@Entity
@Table(name = "clientes")
public class Cliente {

    @Id
    private Long idC;
    private String nombre;
    private String apellido;
    private String telefono;
    private String email;
    private String dni;
    private String fechaNacimiento;
    private int cantidadReservasRealizadas;
    private int multas;

    private String estado;

    //Anotate
    @Transient
    public static final Cliente ClienteNulo = new Cliente();

//    ‧⋆ ✧˚₊‧⋆. ✧˚₊‧⋆‧ Constructores‧⋆ ✧˚₊‧⋆. ✧˚₊‧⋆‧
    public Cliente(Long id, String nom, String ape, String telef, String fech, String dn, String ema, String est) {
        idC = id;
        nombre = nom;
        apellido = ape;
        telefono = telef;
        fechaNacimiento = fech;
        dni = dn;
        email = ema;
        cantidadReservasRealizadas = 0;
        multas = 0;
        estado = est;
    }

    public Cliente() {
        idC = (long) 0;
        nombre = "";
        apellido = "";
        telefono = "";
        dni = "";
        email = "";
        cantidadReservasRealizadas = 0;
        multas = 0;
    }



    //‧⋆ ✧˚₊‧⋆. ✧˚₊‧⋆‧ Manejo de la lista‧⋆ ✧˚₊‧⋆. ✧˚₊‧⋆‧



    // ‧⋆ ✧˚₊‧⋆. ✧˚₊‧⋆‧ Getters y Setters‧⋆ ✧˚₊‧⋆. ✧˚₊‧⋆‧

    public int Edad() {
        LocalDate hoy = LocalDate.now();
        LocalDate fechaparseada = LocalDate.parse(fechaNacimiento);
        int edad = hoy.getYear() - fechaparseada.getYear();
        if (hoy.getMonthValue() < fechaparseada.getMonthValue()) {
            edad--;
        } else if (hoy.getMonthValue() == fechaparseada.getMonthValue() && hoy.getDayOfMonth() < fechaparseada.getDayOfMonth()) {
            edad--;
        }
        return edad;
    }

    public void setNuevaMulta() {this.multas++; }

    public void setNuevaReservaRealizada() {this.cantidadReservasRealizadas++; }


    // ‧⋆ ✧˚₊‧⋆. ✧˚₊‧⋆‧ Otros métodos‧⋆ ✧˚₊‧⋆. ✧˚₊‧⋆‧


    @Override
    public String toString() {
        return "Cliente{" +
                "idC=" + idC +
                ", nombre='" + nombre + '\'' +
                ", apellido='" + apellido + '\'' +
                ", telefono='" + telefono + '\'' +
                ", email='" + email + '\'' +
                ", dni='" + dni + '\'' +
                ", fechaNacimiento='" + fechaNacimiento + '\'' +
                ", cantidadReservasRealizadas=" + cantidadReservasRealizadas +
                ", multas=" + multas +
                ", estado='" + estado + '\'' +
                '}';
    }

    @Override
    public boolean equals(Object o) {
        if (this == o) return true;
        if (o == null || getClass() != o.getClass()) return false;
        Cliente cliente = (Cliente) o;
        return getIdC() != null && Objects.equals(getIdC(), cliente.getIdC());
    }

    @Override
    public int hashCode() {
        return getClass().hashCode();
    }
}


//              ▓▓▓▓▓▓▓▓▓▓▓▓                                              ████████
//  ▓▓▓▓      ▓▓▓▓▓▓▓▓  ▓▓▓▓▓▓                                              ██    ████
//  ▓▓      ▓▓▓▓    ▓▓██    ██                                                ██░░    ██
//  ▓▓▓▓    ▓▓▓▓    ████              ▓▓▓▓                                      ██░░    ██
//    ▓▓    ▓▓▓▓                        ▓▓▓▓                                      ██░░    ██
//    ▓▓▓▓  ▓▓████        ▓▓        ▓▓    ██                                      ██░░░░    ██
//      ▓▓▓▓  ██▓▓▓▓▓▓▓▓▓▓          ▓▓▓▓▓▓██                                        ██░░    ██
//▓▓      ████▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓  ▓▓    ▓▓▓▓██                                        ██░░░░    ██
//▓▓▓▓▓▓    ▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓        ▓▓██                                        ██░░░░    ██
//  ▓▓▓▓████▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓      ▓▓██                                        ██░░░░░░    ██
//          ▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓    ████  ▓▓                                    ██░░░░░░    ██
//    ▓▓██████▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓████████    ██                                    ██░░░░░░    ██
//  ▓▓▓▓      ▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓████████    ████  ██                              ██░░░░░░░░    ██
//  ▓▓  ▓▓▓▓██████▓▓▓▓▓▓▓▓▓▓████████  ▓▓▓▓▓▓██    ████                            ██░░░░░░      ██
//    ▓▓▓▓        ████▓▓▓▓██████████▓▓            ██  ██                        ██░░░░░░░░    ██
//    ▓▓▓▓            ▓▓████████    ▓▓▓▓    ██    ██  ░░██                    ██░░░░░░░░░░    ██
//      ▓▓▓▓              ▓▓  ▓▓▓▓    ▓▓▓▓▓▓██      ██  ░░████            ████░░░░░░░░░░░░    ██
//                        ▓▓    ▓▓▓▓                ██    ░░░░████████████░░░░░░░░░░░░░░    ██
//                      ████      ██                  ██    ░░░░░░░░░░░░░░░░░░░░░░░░░░░░    ██
//                  ▓▓████      ████                    ██    ░░░░░░░░░░░░░░░░░░░░░░      ██
//‧⋆ ✧˚₊‧⋆. ✧˚₊‧⋆‧                                        ██        ░░░░░░░░░░          ██
//Francisco López Guerrero                                  ████                    ████
//Miriam Armario Cantos                                         ████          ██████
//‧⋆ ✧˚₊‧⋆. ✧˚₊‧⋆‧                                                     ██████████

